1. Create the table Member, Books and Issue without any constraints as
    mentioned in the schema description above.
    => create table member
        (mid int primary key, name varchar(30),
        address varchar(50), acc_open_date date,
        mtype enum ('liftime','annual','half yearly','quarterly'),
        fees_paid int, book_allowed int,
        penalty_amount decimal(7,2));
    => create table books
        (bno int primary key,bname varchar(30),
        author varchar(30), cost decimal(7,2),
        category char(10));
    => create table issue
        (issue_id int, book_no int, member_id int,
        issue_date date, return_date date);


2. View the structure of the tables.
    => desc member;
    => desc books;
    => desc issue;


3. Drop the Member table
    => drop table member;


4. Create the table Member again as per the schema description with the
    following constraints.
    a. Member_Id – Primary Key
    b. Membership_type - ‘Lifetime’,’ Annual’, ‘Half Yearly’,’ Quarterly’

    => create table member
        (mid int primary key, name varchar(30),
        address varchar(50), acc_open_date date,
        mtype varchar(20) check (mtype in ('liftime','annual','half yearly','quarterly')),
        fees_paid int, book_allowed int,
        penalty_amount decimal(7,2));


5. Modify the table Member increase the width of the member name to 30
    characters.
    => alter table member
        modify column name varchar(30);


6. Add a column named as Reference of Char(30) to Issue table.
    => alter table issue
        add column reference char(30);


7. Delete/Drop the column Reference from Issue.
    => alter table issue
        drop column reference;


8. Rename the table Issue to Lib_Issue.
    => rename table issue to Lib_issue;


9. Insert following data in table Member
    => insert into member values(1,"richa sharma","pune","2010-12-05","liftime",25000,5,50),
        (2,"garima sen","pune","2025-08-06","annual",1000,3,Null);


10. Insert at least 5 records with suitable data.
    => insert into member
        values (3, 'Sneha Patel', 'Delhi', '2018-03-22', 'half yearly', 3000, 4, 15.50),
        (4, 'Rahul Mehta', 'Bhopal', '2020-09-14', 'quarterly', 1200, 2, 10.00),
        (5, 'Priya Nair', 'Chennai', '2022-11-30', 'annual', 5500, 3, 0.00),
        (6, 'Vikas Singh', 'Lucknow', '2021-05-18', 'liftime', 20000, 6, 30.00),
        (7, 'Neha Joshi', 'Jaipur', '2019-01-12', 'annual', 4800, 3, 5.00);


11. Modify the column Member_name. Decrease the width of the member
    name to 20 characters. (If it does not allow state the reason for that)
    => alter table member
        modify column name varchar(20);


12. Try to insert a record with Max_Books_Allowed = 110, Observe the
    error that comes.

    => alter table member
        modify column book_allowed int check (book_allowed <= 10);
    => insert into member
        values (8, 'Kunal Shah', 'Ahmedabad', '2023-08-10', 'annual', 6000, 110, 0.00);
    ERROR:-  Check constraint 'member_chk_1' is violated.


13. Generate another table named Member101 using a Create command
    along with a simple SQL query on member table.
    => create table Member101 as (select * from member);


14. Add the constraints on columns max_books_allowed and penalty_amt
    as follows
    a. max_books_allowed < 100
    b. penalty_amt maximum 1000
    Also give names to the constraints.

    => alter table member
        add constraint book_allowed check (book_allowed < 100),
        add constraint penalty_amount check (penalty_amount <= 1000);


15. Drop the table books.
    => drop table books;


16. Create table Books again as per the schema description with the
    following constraints.
    a. Book_No – Primary Key
    b. Book_Name – Not Null
    c. Category – System, Fiction, Database, RDBMS, Others.
    => create table books
        (book_no int primary key, bname varchar(30) not null,
        author varchar(30), cost decimal(7,2),
        category varchar(10) check (category in ("System", "Fiction", "Database", "RDBMS")));


17. Insert data in Book table as follows:
    => insert into books
        values (101,"let us C","denis ritchie",450,"system"),
        (102,"oracle-complate ref","loni",550,"database"),
        (103,"mastering sql","loni",250,"database"),
        (104,"PL sql-ref","scott urman",750,"database");


18. Insert more records in Book table.
    => insert into books
        values (105, 'Java Programming', 'Herbert Schildt', 650.00, 'System'),
        (106, 'Database System Concepts', 'Henry Korth', 800.00, 'Database'),
        (107, 'The Alchemist', 'Paulo Coelho', 300.00, 'Fiction'),
        (108, 'Rich Dad Poor Dad', 'Robert Kiyosaki', 350.00, 'Fiction'),
        (109, 'Fundamentals of RDBMS', 'Elmasri', 700.00, 'RDBMS');


19. View the data in the tables using simple SQL query.
    => select * from table_name;


20. Insert into Book following data. 105, National Geographic, Adis Scott, 1000, Science
    => insert into books
        values (105, "National Geographic", "Adis Scott", 1000, "Science");
    ERROR:- Check constraint 'books_chk_1' is violated.


21. Rename the table Lib_Issue to Issue.
    => rename table Lib_issue to issue;


22. Drop table Issue.
    => drop table issue;

23. As per the given structure Create table Issue again with following
    constraints.

     Lib_Issue_Id-Primary key
     Book_No- foreign key
     Member_id - foreign key
     Issue_date
     Return_date

    => create table issue
        (issue_id int primary key,
        book_no int,
        foreign key(book_no) references books (book_no) on delete set NULL,
        member_id int,
        foreign key(member_id) references member (mid) on delete set NULL,
        issue_date date, return_date date);


24. Insert following data into Issue table.
    => insert into issue(issue_id,book_no,member_id,issue_date)
        values (7001, 101, 1, '2006-12-10'),
        (7002, 102, 2, '2006-12-25'),
        (7003, 104, 1, '2006-01-15'),
        (7004, 101, 1, '2006-07-04'),
        (7005, 104, 2, '2006-11-15'),
        (7006, 101, 3, '2006-02-18');


25. Remove the constraints on Issue table
    => ALTER TABLE issue DROP FOREIGN KEY issue_ibfk_1;
        ALTER TABLE issue DROP FOREIGN KEY issue_ibfk_2;


26. Insert a record in Issue table. The member_id should not exist in
    member table.
    => insert into issue(issue_id,book_no,member_id,issue_date)
        values (7007,105,9,'2010-02-18');


27. Now enable the constraints of Issue table. Observe the error
    => alter table issue
        add foreign key(member_id) references member(mid) on delete set NULL,
        add foreign key(book_no) references books(book_no) on delete set NULL;
    ERROR 1452 (23000): Cannot add or update a child row: a foreign key constraint fails 
    (`db1`.`#sql-15d4_a`, CONSTRAINT `issue_ibfk_1` FOREIGN KEY (`member_id`) REFERENCES `member` 
    (`mid`) ON DELETE SET NULL)


28. Delete the record inserted at Q-27) and enable the constraints.
    => delete from issue where issue_id = 7007;
    => alter table issue
        add foreign key(member_id) references member(mid) on delete set NULL,
        add foreign key(book_no) references books(book_no) on delete set NULL;


29. Try to delete the record of member id 1 from member table and
    observe the error.
    =>  delete from member where mid=1;


30. View the data and structure of all the three tables Member,
    Issue, Book.
    => select * from member;
    => select * from books;
    => select * from issue;
    => desc member;
    => desc books;
    => desc issue;


31. Modify the Return_Date of 7004,7005 to 15 days after the
    Issue_date.
    => update issue set return_date = date_add(issue_date, interval 15 day)
        where issue_id in (7004,7005);


32. Remove all the records from Issue table where member_ID is 1
    and Issue date in before 10-Dec-06.
    => delete from issue where member_id =1 and issue_date = '2006-12-10';

33. Remove all the records from Book table with category other
    than RDBMS and Database.
    => delete from books where category not in ("database","rdbms");


34. Remove the table Member.
    => drop table memeber;
    ERROR:- Cannot drop table 'member' referenced by a foreign key constraint 'issue_ibfk_1' on table 'issue'.

35. Remove the table Book.
    => drop table books;
    ERROR:- Cannot drop table 'books' referenced by a foreign key constraint 'issue_ibfk_2' on table 'issue'.